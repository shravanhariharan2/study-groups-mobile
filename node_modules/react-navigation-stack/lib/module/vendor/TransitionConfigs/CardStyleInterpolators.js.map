{"version":3,"sources":["CardStyleInterpolators.tsx"],"names":["Animated","conditional","add","multiply","forHorizontalIOS","current","next","inverted","screen","layouts","translateFocused","progress","interpolate","inputRange","outputRange","width","translateUnfocused","overlayOpacity","shadowOpacity","cardStyle","transform","translateX","overlayStyle","opacity","shadowStyle","forVerticalIOS","translateY","height","forModalPresentationIOS","index","insets","isLandscape","topOffset","statusBarHeight","top","aspectRatio","scale","borderRadius","overflow","borderTopLeftRadius","borderTopRightRadius","marginTop","forFadeFromBottomAndroid","closing","forRevealFromBottomAndroid","containerTranslateY","cardTranslateYFocused","cardTranslateYUnfocused","containerStyle","forScaleFromCenterAndroid","forNoAnimation"],"mappings":"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","sourcesContent":["import { Animated } from 'react-native';\nimport conditional from '../utils/conditional';\nimport {\n  StackCardInterpolationProps,\n  StackCardInterpolatedStyle,\n} from '../types';\n\nconst { add, multiply } = Animated;\n\n/**\n * Standard iOS-style slide in from the right.\n */\nexport function forHorizontalIOS({\n  current,\n  next,\n  inverted,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateFocused = multiply(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [screen.width, 0],\n    }),\n    inverted\n  );\n\n  const translateUnfocused = next\n    ? multiply(\n        next.progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, screen.width * -0.3],\n        }),\n        inverted\n      )\n    : 0;\n\n  const overlayOpacity = current.progress.interpolate({\n    inputRange: [0, 1],\n    outputRange: [0, 0.07],\n  });\n\n  const shadowOpacity = current.progress.interpolate({\n    inputRange: [0, 1],\n    outputRange: [0, 0.3],\n  });\n\n  return {\n    cardStyle: {\n      transform: [\n        // Translation for the animation of the current card\n        { translateX: translateFocused },\n        // Translation for the animation of the card on top of this\n        { translateX: translateUnfocused },\n      ],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n    shadowStyle: { shadowOpacity },\n  };\n}\n\n/**\n * Standard iOS-style slide in from the bottom (used for modals).\n */\nexport function forVerticalIOS({\n  current,\n  inverted,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateY = multiply(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [screen.height, 0],\n    }),\n    inverted\n  );\n\n  return {\n    cardStyle: {\n      transform: [\n        // Translation for the animation of the current card\n        { translateY },\n      ],\n    },\n  };\n}\n\n/**\n * Standard iOS-style modal animation in iOS 13.\n */\nexport function forModalPresentationIOS({\n  index,\n  current,\n  next,\n  inverted,\n  layouts: { screen },\n  insets,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const isLandscape = screen.width > screen.height;\n  const topOffset = isLandscape ? 0 : 10;\n  const statusBarHeight = insets.top;\n  const aspectRatio = screen.height / screen.width;\n\n  const progress = add(current.progress, next ? next.progress : 0);\n\n  const translateY = multiply(\n    progress.interpolate({\n      inputRange: [0, 1, 2],\n      outputRange: [\n        screen.height,\n        index === 0 ? 0 : topOffset,\n        (index === 0 ? statusBarHeight : 0) - topOffset * aspectRatio,\n      ],\n    }),\n    inverted\n  );\n\n  const overlayOpacity = progress.interpolate({\n    inputRange: [0, 1, 1.0001, 2],\n    outputRange: [0, 0.3, 1, 1],\n  });\n\n  const scale = isLandscape\n    ? 1\n    : progress.interpolate({\n        inputRange: [0, 1, 2],\n        outputRange: [\n          1,\n          1,\n          screen.width ? 1 - (topOffset * 2) / screen.width : 1,\n        ],\n      });\n\n  const borderRadius = isLandscape\n    ? 0\n    : index === 0\n    ? progress.interpolate({\n        inputRange: [0, 1, 2],\n        outputRange: [0, 0, 10],\n      })\n    : 10;\n\n  return {\n    cardStyle: {\n      overflow: 'hidden',\n      borderTopLeftRadius: borderRadius,\n      borderTopRightRadius: borderRadius,\n      marginTop: index === 0 ? 0 : statusBarHeight,\n      transform: [{ translateY }, { scale }],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n  };\n}\n\n/**\n * Standard Android-style fade in from the bottom for Android Oreo.\n */\nexport function forFadeFromBottomAndroid({\n  current,\n  inverted,\n  layouts: { screen },\n  closing,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateY = multiply(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [screen.height * 0.08, 0],\n    }),\n    inverted\n  );\n\n  const opacity = conditional(\n    closing,\n    current.progress,\n    current.progress.interpolate({\n      inputRange: [0, 0.5, 0.9, 1],\n      outputRange: [0, 0.25, 0.7, 1],\n    })\n  );\n\n  return {\n    cardStyle: {\n      opacity,\n      transform: [{ translateY }],\n    },\n  };\n}\n\n/**\n * Standard Android-style reveal from the bottom for Android Pie.\n */\nexport function forRevealFromBottomAndroid({\n  current,\n  next,\n  inverted,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const containerTranslateY = multiply(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [screen.height, 0],\n    }),\n    inverted\n  );\n\n  const cardTranslateYFocused = multiply(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [screen.height * (95.9 / 100) * -1, 0],\n    }),\n    inverted\n  );\n\n  const cardTranslateYUnfocused = next\n    ? multiply(\n        next.progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, screen.height * (2 / 100) * -1],\n        }),\n        inverted\n      )\n    : 0;\n\n  const overlayOpacity = current.progress.interpolate({\n    inputRange: [0, 0.36, 1],\n    outputRange: [0, 0.1, 0.1],\n  });\n\n  return {\n    containerStyle: {\n      overflow: 'hidden',\n      transform: [{ translateY: containerTranslateY }],\n    },\n    cardStyle: {\n      transform: [\n        { translateY: cardTranslateYFocused },\n        { translateY: cardTranslateYUnfocused },\n      ],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n  };\n}\n\n/**\n * Standard Android-style reveal from the bottom for Android Q.\n */\nexport function forScaleFromCenterAndroid({\n  current,\n  next,\n  closing,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const progress = add(current.progress, next ? next.progress : 0);\n\n  const opacity = progress.interpolate({\n    inputRange: [0, 0.8, 1, 1.2, 2],\n    outputRange: [0, 0.5, 1, 0.33, 0],\n  });\n\n  const scale = conditional(\n    closing,\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [0.9, 1],\n    }),\n    progress.interpolate({\n      inputRange: [0, 1, 2],\n      outputRange: [0.85, 1, 1.1],\n    })\n  );\n\n  return {\n    containerStyle: {\n      opacity,\n      transform: [{ scale }],\n    },\n  };\n}\n\nexport function forNoAnimation(): StackCardInterpolatedStyle {\n  return {};\n}\n"]}